---
interface Props {
  placeholder: string;
  buttonText: string;
  comingSoonText: string;
  formUrl?: string;
}

const { placeholder, buttonText, comingSoonText, formUrl } = Astro.props;
const isDisabled = !formUrl;
---

{isDisabled ? (
  <div class="flex gap-2">
    <input
      type="email"
      placeholder={placeholder}
      disabled
      class="flex-1 px-4 py-3 bg-zinc-900/50 border border-zinc-800/50 rounded-lg text-zinc-500 placeholder-zinc-600 cursor-not-allowed"
    />
    <button
      disabled
      class="px-6 py-3 bg-amber-500/30 text-zinc-600 font-semibold rounded-lg cursor-not-allowed whitespace-nowrap"
    >
      {buttonText}
    </button>
  </div>
  <p class="mt-3 text-sm text-zinc-500">{comingSoonText}</p>
) : (
  <a
    href={formUrl}
    target="_blank"
    rel="noopener noreferrer"
    class="inline-flex items-center gap-2 px-6 py-3 bg-amber-500 hover:bg-amber-400 text-zinc-950 font-semibold rounded-lg transition-colors"
  >
    {buttonText}
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
    </svg>
  </a>
)}
